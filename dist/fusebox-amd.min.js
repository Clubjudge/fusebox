/**
 *  v0.1.0
 *
 * Copyright (c) 2013Bruno Abrantes
 * Distributed under BSD License
 *
 * Documentation and full license available at:
 * http://inf0rmer.github.com/fusebox
 *
 */
(function(){var n,r,u;return r={},null!=(null!=(u=window.define)?u.amd:void 0)?n=window.define:(r=window,n=function(n,r,u){var e,t,o,i,l;for(t=[],i=0,l=r.length;l>i;i++)e=r[i],t.push(window[e]);return o=u.apply(void 0,t),window[n]?void 0:window[n]=o}),n("fusebox",["underscore","jquery"],function(_,$){return function(){var n,u,e,fusebox,t,o,i,l,a,s,c;return s=this,i=this.fusebox,u={},t={},o={},c={},n="widgets/",l=require,a=requirejs,e=function(n,r){return null==r&&(r="_"),n.replace(/([A-Z])/g,r+"$1").toLowerCase()},o.extend=function(n){return c=_.extend(c,n)},o.clear=function(){return c={}},o.validate=function(n,r){var u,e;return u=null!=(e=c[r])?e[n]:void 0,u?!0:!1},t.subscribe=function(n,r,e,t){return u[r]=null!=u[r]?u[r]:{},u[r][n]=null!=u[r][n]?u[r][n]:[],u[r][n].push(_.bind(e,t))},t.unsubscribe=function(n){return u[n]=[]},t.publish=function(n,r){var e;return e=[].slice.call(arguments,1),u[r]?u[r][n]&&u[r][n].length?_.each(u[r][n],function(n){return n.apply(this,e)}):void 0:void 0},t.start=function(r){var o,i;return o=[].slice.call(arguments,1),i=e(r),l([n+i+"/main"],function(){return _.each(u[r].bootstrap,function(n){return n.apply(t,o)})})},t.stop=function(n){var r,u,o;return r=[].slice.call(arguments,1),u=r[0],o=e(n),t.publish.apply(t,["unload",n].concat(r)),u?$(u).html(""):void 0},t.unload=function(n){var r,u,e,t,o;if(r=null!=(null!=a?a.s.contexts._.urlMap:void 0)){for(o=[],e=0,t=r.length;t>e;e++)u=r[e],r.hasOwnProperty(u)&&-1!==u.indexOf(n)?o.push(l.undef(u)):o.push(void 0);return o}},t.dom={find:function(n,r){return null==r&&(r=document),$(r).find(n)},data:function(n,r){return $(n).data(r)}},fusebox={noConflict:function(){return s.fusebox=i,fusebox},subscribe:function(n,r,u){return o.validate(n,r)?t.subscribe(n,r,u,this):void 0},publish:function(){return t.publish.apply(t,arguments)},start:function(){return t.start.apply(t,arguments)},stop:function(){return t.stop.apply(t,arguments)},unload:function(){var r;return r=e(channel),t.unload.apply(n+r)},find:function(n,r){return t.dom.find(n,r)},data:function(n,r){return t.dom.data(n,r)},permissions:o,dom:t.dom,setBaseUrl:function(r){return n=r},getBaseUrl:function(){return n},setRequireLib:function(n,r){if(2>arguments.length)throw Error("Both a require function and a requirejs global are needed");if("function"!=typeof n)throw Error("require needs to be a function");return l=n,a=r},getRequireLib:function(){return{require:l,requirejs:a}}},null!=r?(null!=("undefined"!=typeof module&&null!==module?module.exports:void 0)&&(r=module.exports=fusebox),r.fusebox=fusebox):s.fusebox=fusebox,fusebox}()})})();