/**
 *  v0.1.0
 *
 * Copyright (c) 2013Bruno Abrantes
 * Distributed under BSD License
 *
 * Documentation and full license available at:
 * http://inf0rmer.github.com/fusebox
 *
 */
(function(){var n,u,r;return u={},null!=(null!=(r=window.define)?r.amd:void 0)?n=window.define:(u=window,n=function(n,u,r){var t,e,o,i,l;for(e=[],i=0,l=u.length;l>i;i++)t=u[i],e.push(window[t]);return o=r.apply(void 0,e),window[n]?void 0:window[n]=o}),n("fusebox",["underscore","jquery"],function(_,$){return function(){var n,r,t,fusebox,e,o,i,l,a,s,d;return s=this,i=this.fusebox,r={},e={},o={},d={},n="widgets/",l=require,a=requirejs,t=function(n,u){return null==u&&(u="_"),n.replace(/([A-Z])/g,u+"$1").toLowerCase()},o.extend=function(n){return d=_.extend(d,n)},o.clear=function(){return d={}},o.validate=function(n,u){var r,t;return r=null!=(t=d[u])?t[n]:void 0,r?!0:!1},e.subscribe=function(n,u,t,e){return r[u]=null!=r[u]?r[u]:{},r[u][n]=null!=r[u][n]?r[u][n]:[],r[u][n].push(_.bind(t,e))},e.unsubscribe=function(n){return r[n]=[]},e.publish=function(n,u){var t;return t=[].slice.call(arguments,1),r[u]?r[u][n]&&r[u][n].length?_.each(r[u][n],function(n){return n.apply(this,t)}):void 0:void 0},e.start=function(u){var o,i;return o=[].slice.call(arguments,1),i=t(u),l([n+i+"/main"],function(){var n;return null!=(null!=(n=r[u])?n.bootstrap:void 0)?_.each(r[u].bootstrap,function(n){return n.apply(e,o)}):void 0})},e.stop=function(n){var u,o,i,l;return u=[].slice.call(arguments,1),o=u[0],i=t(n),null!=(null!=(l=r[n])?l.unload:void 0)&&e.publish.apply(e,["unload",n].concat(u)),o?$(o).html(""):void 0},e.unload=function(n){var u,r,t,e,o;if(u=null!=(null!=a?a.s.contexts._.urlMap:void 0)){for(o=[],t=0,e=u.length;e>t;t++)r=u[t],u.hasOwnProperty(r)&&-1!==r.indexOf(n)?o.push(l.undef(r)):o.push(void 0);return o}},e.dom={find:function(n,u){return null==u&&(u=document),$(u).find(n)},data:function(n,u){return $(n).data(u)}},fusebox={noConflict:function(){return s.fusebox=i,fusebox},subscribe:function(n,u,r){return o.validate(n,u)?e.subscribe(n,u,r,this):void 0},publish:function(){return e.publish.apply(e,arguments)},start:function(){return e.start.apply(e,arguments)},stop:function(){return e.stop.apply(e,arguments)},unload:function(){var u;return u=t(channel),e.unload.apply(n+u)},find:function(n,u){return e.dom.find(n,u)},data:function(n,u){return e.dom.data(n,u)},permissions:o,dom:e.dom,setBaseUrl:function(u){return n=u},getBaseUrl:function(){return n},setRequireLib:function(n,u){if(2>arguments.length)throw Error("Both a require function and a requirejs global are needed");if("function"!=typeof n)throw Error("require needs to be a function");return l=n,a=u},getRequireLib:function(){return{require:l,requirejs:a}}},null!=u?(null!=("undefined"!=typeof module&&null!==module?module.exports:void 0)&&(u=module.exports=fusebox),u.fusebox=fusebox):s.fusebox=fusebox,fusebox}()})})();